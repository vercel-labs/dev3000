(()=>{"use strict";function injectProxy({target:e}){if(!window.__REACT_DEVTOOLS_PROXY_INJECTED__){window.__REACT_DEVTOOLS_PROXY_INJECTED__=!0,connectPort(),sayHelloToBackendManager();const e=setInterval((()=>{o?clearInterval(e):sayHelloToBackendManager()}),500)}}window.addEventListener("pagereveal",injectProxy),window.addEventListener("pageshow",injectProxy),window.addEventListener("pagehide",(function({target:e}){e===window.document&&delete window.__REACT_DEVTOOLS_PROXY_INJECTED__}));let e=null,o=!1;function sayHelloToBackendManager(){window.postMessage({source:"react-devtools-content-script",hello:!0},"*")}function handleMessageFromDevtools(e){window.postMessage({source:"react-devtools-content-script",payload:e},"*")}function handleMessageFromPage(n){if(n.source===window&&n.data)switch(n.data.source){case"react-devtools-bridge":o=!0,e.postMessage(n.data.payload);break;case"react-devtools-backend-manager":{const{source:e,payload:o}=n.data;chrome.runtime.sendMessage({source:e,payload:o});break}}}function handleDisconnect(){window.removeEventListener("message",handleMessageFromPage),e=null,connectPort()}function connectPort(){e=chrome.runtime.connect({name:"proxy"}),window.addEventListener("message",handleMessageFromPage),e.onMessage.addListener(handleMessageFromDevtools),e.onDisconnect.addListener(handleDisconnect)}let n=0;const t=new Map;chrome.runtime.onMessage.addListener(((e,o,a)=>{if("devtools-page-eval"===e?.source){const{scriptId:o,args:s}=e.payload,r=n++;return window.postMessage({source:"react-devtools-content-script-eval",payload:{requestId:r,scriptId:o,args:s}},"*"),t.set(r,a),!0}})),window.addEventListener("message",(e=>{if("react-devtools-content-script-eval-response"===e.data?.source){const{requestId:o,response:n}=e.data.payload,a=t.get(o);try{if(!a)throw new Error(`No eval request callback for id "${o}" exists.`);a(n)}catch(e){console.warn("React DevTools Content Script eval response error occurred:",e)}finally{t.delete(o)}}}))})();